#################################################################################################################
#Common Settings
#################################################################################################################

spark.akka.failure-detector.threshold                                  300.0
spark.akka.frameSize                                                   10
spark.akka.heartbeat.interval                                          1000
spark.akka.heartbeat.pauses                                            6000
spark.akka.threads                                                     4
spark.akka.timeout                                                     100
spark.broadcast.blockSize                                              4000
spark.broadcast.compress                                               true
spark.broadcast.factory                                                org.apache.spark.broadcast.TorrentBroadcastFactory
spark.closure.serializer                                               org.apache.spark.serializer.JavaSerializer
spark.cores.max                                                        224
spark.default.parallelism                                              896
spark.deploy.spreadOut                                                 true
spark.driver.cores                                                     16
spark.driver.extraJavaOptions                                          -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Dsun.io.serialization.extendedDebugInfo=true
spark.driver.maxResultSize                                             0
spark.driver.memory                                                    41g
spark.driver.userClassPathFirst                                        false
spark.eventLog.compress                                                false
spark.eventLog.enabled                                                 false
spark.executor.cores                                                   4
spark.executor.extraJavaOptions                                        -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Dsun.io.serialization.extendedDebugInfo=true
spark.executor.heartbeatInterval                                       10000
spark.executor.logs.rolling.time.interval                              daily
spark.executor.memory                                                  11g
spark.executor.userClassPathFirst                                      false
spark.externalBlockStore.blockManager                                  org.apache.spark.storage.TachyonBlockManager
spark.files.fetchTimeout                                               60
spark.files.overwrite                                                  false
spark.files.useFetchCache                                              true
spark.hadoop.cloneConf                                                 false
spark.hadoop.validateOutputSpecs                                       true
spark.io.compression.codec                                             snappy
spark.io.compression.lz4.blockSize                                     32k
spark.io.compression.snappy.blockSize                                  32k
spark.kryo.referenceTracking                                           true
spark.kryo.registrationRequired                                        false
spark.kryoserializer.buffer                                            64k
spark.kryoserializer.buffer.max                                        64m
spark.local.dir                                                        /tmp
spark.localExecution.enabled                                           false
spark.locality.wait                                                    3000
spark.logConf                                                          false
spark.network.timeout                                                  120
spark.port.maxRetries                                                  16
spark.python.profile                                                   false
spark.python.worker.memory                                             12
spark.python.worker.reuse                                              true
spark.rdd.compress                                                     false
spark.reducer.maxSizeInFlight                                          48m
spark.rpc.askTimeout                                                   120
spark.rpc.lookupTimeout                                                120
spark.rpc.numRetries                                                   3
spark.rpc.retry.wait                                                   3000
spark.scheduler.maxRegisteredResourcesWaitingTime                      30000
spark.scheduler.minRegisteredResourcesRatio                            0.8
spark.scheduler.mode                                                   FIFO
spark.scheduler.revive.interval                                        1000
spark.serializer                                                       org.apache.spark.serializer.KryoSerializer
spark.serializer.objectStreamReset                                     100
spark.shuffle.blockTransferService                                     netty
spark.shuffle.compress                                                 true
spark.shuffle.file.buffer                                              32k
spark.shuffle.io.maxRetries                                            3
spark.shuffle.io.numConnectionsPerPeer                                 1
spark.shuffle.io.preferDirectBufs                                      true
spark.shuffle.io.retryWait                                             5
spark.shuffle.manager                                                  sort
spark.shuffle.memoryFraction                                           0.2
spark.shuffle.safetyFraction                                           0.8
spark.shuffle.service.enabled                                          true
spark.shuffle.sort.bypassMergeThreshold                                200
spark.shuffle.spill                                                    true
spark.shuffle.spill.compress                                           true
spark.speculation                                                      false
spark.speculation.interval                                             100
spark.speculation.multiplier                                           1.5
spark.speculation.quantile                                             0.75
spark.storage.level                                                    MEMORY_ONLY
spark.storage.memoryFraction                                           0.6
spark.storage.memoryMapThreshold                                       2097152
spark.storage.safetyFraction                                           0.9
spark.storage.unrollFraction                                           0.2
spark.task.cpus                                                        1
spark.task.maxFailures                                                 4
spark.ui.killEnabled                                                   true
spark.ui.port                                                          4040
spark.ui.retainedJobs                                                  1000
spark.ui.retainedStages                                                1000

#################################################################################################################
#YARN Settings (ignore if not using YARN)
#################################################################################################################

spark.yarn.am.cores                                                    16
spark.yarn.am.extraJavaOptions                                         -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Dsun.io.serialization.extendedDebugInfo=true
spark.yarn.am.memory                                                   41g
spark.yarn.am.memoryOverhead                                           2870
spark.yarn.am.waitTime                                                 100000
spark.yarn.containerLauncherMaxThreads                                 25
spark.yarn.driver.memoryOverhead                                       2870
spark.yarn.executor.memoryOverhead                                     1178
spark.yarn.preserve.staging.files                                      false
spark.yarn.queue                                                       default
spark.yarn.scheduler.heartbeat.interval-ms                             5000
spark.yarn.submit.file.replication                                     3
spark.yarn.submit.waitAppCompletion                                    true

#################################################################################################################
#Streaming Settings (ignore if not using Spark Streaming)
#################################################################################################################

spark.streaming.blockInterval                                          200
spark.streaming.kafka.maxRetries                                       1
spark.streaming.receiver.writeAheadLog.enable                          false
spark.streaming.ui.retainedBatches                                     1000
spark.streaming.unpersist                                              true

#################################################################################################################
#Dynamic Allocation Settings (ignore if not using Dynamic Allocation)
#################################################################################################################

spark.dynamicAllocation.enabled                                        true
spark.dynamicAllocation.executorIdleTimeout                            60s
spark.dynamicAllocation.maxExecutors                                   56
spark.dynamicAllocation.minExecutors                                   0
spark.dynamicAllocation.schedulerBacklogTimeout                        1